
title: R软件的升级
date: 2014-10-12 11:28:30
category: 数据科学
tags: [数据科学,R]
---

R的升级一直是初学者的一个问题，因为R的安装包做的不怎么智能，每次安装新的R版本它不会覆盖老版本，因此之前装过的包在新版本上无法使用，许多新手只能又重复劳动一遍。

一个常用的解决这个问题的方法就是在你的`.REnviron`文件中指定`R_LIBS`的值。例如

`R_LIBS="C:\my\pathto\library"`


 `.REnviron`文件保存在`$HOME$`目录下面，而要知道你的`$HOME$`在哪里，运行下面的命令

`Sys.getenv("HOME")`

上面的设置好了以后运行：

`update.packages( lib.loc = .libPaths()[1] , checkBuilt = TRUE )`

那么就可以对以前安装的包进行升级。


当然如果你老版本的包都安装在系统缺省目录中，那么先用

`Sys.getenv("R_LIBS_USER")`
`Sys.getenv("R_LIBS")`
`.libPaths()`

命令找到之前的包的安装位置，之后把那里的所有包都copy到现在你指定的`R_LIBS`目录再执行上面的操作。

补充：除了上面的办法，还有一种就是一开始就在系统设置R_LIBS路径（windows，linux怎么设置环境变量就不用说了吧），以后安装包就会装到R_LIBS指定目录。升级R软件就和包是独立的了。


如果你有更好的办法请告诉我哦。
